[NAME]
ФБО «Аудит»
Предотвращение потери данных аудита
[/NAME]


[PRERE]
Никаких предварительных операций производить не требуется.
[/PRERE]


[EXPECTED]
При помощи файла конфигурации аудита /etc/auditd.conf администратор может определять поведение ОС в случае обнаружения отсутствия свободного пространства на диске, отведенном для размещения журналов аудита.
[/EXPECTED]


[PROCEDURE]
От имени администратора root изменить следующие параметры в файле конфигурации службы аудита /etc/audit/auditd.conf :
- действие предпринимаемое при обнаружении отсутствия свободного пространства на диске. Указание single приведёт к переводу компьютера в однопользовательский режим:
[code]disk_full_action =  SINGLE[/code]

- действие предпринимаемое при возникновении ошибки в работе с диском:
[code]disk_error_action =  SINGLE[/code]

- минимум свободного пространства в мегабайтах, по достижении которого должно быть осуществлено оповещение:
[code]space_left = 100[/code]

- критический минимум свободного пространства в мегабайтах, при достижении которого должно выполняться действие определяемое параметром admin_space_left_action:
[code]admin_space_left = 99[/code]

- действие предпринимаемое при достижении объёмом свободного пространства на диске указанного критического минимума:
[code]admin_space_left_action = SINGLE[/code]

Значение параметра space_left должно быть больше значения параметра
[code]admin_space_left.[/code]

Далее производятся действия на переполнение файловой системы, хранящей данные аудита или имитируются сбои в работе жесткого диска.
Перезагрузить ЭВМ.
[/PROCEDURE]


[RESULT]
При невозможности сохранения данных аудита система переходит в однопользовательский режим. Только администратору root доступна работа с ОС. Предполагается, что администратор освободит место и после появления на жестком диске необходимого свободного пространства работа ОС будет восстановлена.
[/RESULT]